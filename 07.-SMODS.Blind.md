# API Documentation: SMODS.Blind
- **Required parameters:**
	- `key`
	- `loc_txt`, Skeleton:
	```lua
		{
			name = '',
			text = { '' },
		}
	```
- **Optional parameters** *(defaults)*:
	- `dollars = 5`, the amount of money obtained when defeated,
	- `mult = 2`, the required score relative to the base Ante score,
	- `boss`, to mark this Blind as a Boss Blind, and to specify on which Antes it may appear (`{ min = 1, max = 10 }`),
	- `showdown`, to mark this Blind as a Final Boss Blind that shows up on every multiple of the winning Ante.
	- `pos = { x = 0, y = 0 }`, the `y` value determines the row to use for the animation,
	- `atlas = 'blind_chips'`,
	- `discovered = false`,
	- `vars = {}`, default variables for the debuff text when game data isn't available,
	- `debuff = {}`, for direct use of vanilla Blind effects with custom parameters:
		- Disallowing hands in full:
			- `hand = { ['Hand Type'] = true}` for a specific set of hands,
			- `h_size_ge = n`, must play at least `n` cards,
			- `h_size_le = n`, must play at most `n` cards.
		- Debuffing cards:
			- `suit = 'Hearts'` for one specific suit,
			- `value = '2'` for one specific rank,
			- `nominal = n` for all ranks scoring `n` base chips,
			- `is_face = true` for all face cards.
		- Note that these effects are disabled if you specify a `debuff_hand` or `debuff_card` function respectively.
	- `ignore_showdown_check`, enabling this will allow `in_pool` to be evaluated regardless of whether a finisher Boss Blind was requested or not.

## API methods
In all of the following methods, use the global variable `G.GAME.blind` to
refer to the current blind. (The base game uses `self` to refer to the current blind in `Blind:fff()`.)
- `set_blind(self)`
	- Effects that activate when this Blind is selected
- `disable(self)`
	- Reverting effects when this Blind gets disabled
- `defeat(self)`
	- Reverting effects when this Blind is defeated
- `drawn_to_hand(self)`
	- Effects that activate when cards are drawn to hand
- `press_play(self)`
	- Effects that activate when a hand is played
- `debuff_card(self, card, from_blind) -> bool`
	- Determines what cards should be debuffed by this Blind
- `debuff_hand(self, cards, hand, handname, check) -> bool`
	- Determines if a hand is disallowed by this Blind
- `stay_flipped(self, area, card) -> bool`
	- Determines what cards are drawn face down
- `modify_hand(self, cards, poker_hands, text, mult, hand_chips) -> number, number, bool`
	- Used for modifications on the base score of played hands. Expected return values in order are:
		- The modified value of `mult`
		- The modified value of `hand_chips`
		- A boolean value indicating whether any values were changed
- `get_loc_debuff_text(self) -> string`
	- Allows modifying text displayed for debuff warnings on invalid hands
- `loc_vars(self) -> { vars ?= table }`
	- Used for passing variables to Blind descriptions.
- `collection_loc_vars(self) -> { vars ?= table }`
	- Used for passing variables to Blind descriptions when viewing the Collection. If not defined, the game will use the `vars` field on your object.
- `in_pool(self) -> bool`
	- For implementing advanced restrictions on when a Blind may appear in a run. This puts `boss.min` and `boss.max` restrictions out of effect.
	- Unless `ignore_showdown_check` is set, this function will not be evaluated in the following cases:
		- A showdown Boss Blind should appear, but this Blind is a regular Boss Blind.
		- A regular Boss Blind should appear, but this Blind is a showdown Boss Blind.